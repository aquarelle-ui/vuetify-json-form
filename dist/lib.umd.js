!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@aquarelle/json-form")):"function"==typeof define&&define.amd?define(["exports","@aquarelle/json-form"],t):t((e.Aquarelle=e.Aquarelle||{},e.Aquarelle.VuetifyJsonForm={}),e.Aquarelle.JsonForm)}(this,function(e,t){"use strict";class i extends t.ControlParser{getDefault(e){return e.hasOwnProperty("default")?e.default:e.nullable?null:void 0}parse(e,i,n){const r=super.parse(e,i,n);return t.ControlParser.setConfigUsingValidation(r.config,e.validation,["required"]),r}}class n extends t.ObjectControlParser{getDefault(e,t){return e.default&&"object"==typeof e.default?{...e.default}:null}getItems(e){return e.items&&Array.isArray(e.items)?e.items:[]}getSubValidationProperty(){return"validations"}}class r extends t.ControlParser{getDefault(e,t){let i={};return Array.isArray(e.items)&&e.items.map(e=>{e.name&&(i[e.name]={})}),i}getItems(e,t,i,n){if(!Array.isArray(e.items))return[];const r=null==i.name?n:i.validation;return e.items.map(e=>{let i=null;return(e={...e}).name?(r.hasOwnProperty(e.name)||(r[e.name]={}),i=r[e.name]):i=r,Array.isArray(e.items)?e.items=t.parseControlList(e.items,i):e.items=[],e})}}class a extends t.ControlParser{constructor(e,t){super(e),this._group=t}getDefault(e){return e.config&&e.config.multiple?Array.isArray(e.default)?e.default:[]:null==e.default?e.nullable?null:void 0:e.default}getConfig(e){return{titleProp:"title",groupTitleProp:"title",valueProp:"value",iconProp:"icon",descriptionProp:"description",itemsProp:"items",multiple:!1,...e.config,group:this._group}}getItems(e,t,i,n){if(!e.items||!Array.isArray(e.items))return[];if(!i.config.group)return e.items;const r=i.config.itemsProp,a=i.config.titleProp,o=i.config.groupTitleProp,s=[];let l=!0;return e.items.map(e=>{e[r]&&Array.isArray(e[r])&&0!==e[r].length&&(l?l=!1:s.push({divider:!0}),s.push({header:e[o]}),e[r].map(e=>{e[a]||(e[a]=""),s.push(e)}))}),s}parse(e,i,n){const r=super.parse(e,i,n);return r.config.multiple?t.ControlParser.setConfigUsingValidation(r.config,e.validation,["required","minItems","maxItems"]):t.ControlParser.setConfigUsingValidation(r.config,e.validation,["required"]),r}}class o extends a{constructor(e){super(e,!1)}parse(e,t,i){return e.items=[{title:"Phone",description:"Extra small device (xs)",icon:"smartphone",value:"xs"},{title:"Tablet",description:"Small device (sm)",icon:"tablet",value:"sm"},{title:"Laptop",description:"Medium device (md)",icon:"laptop",value:"md"},{title:"Desktop",description:"Large device (lg)",icon:"desktop_windows",value:"lg"},{title:"TV",description:"Extra large device (xl)",icon:"tv",value:"xl"}],e.display||(e.display={}),e.display.icons=!0,e.display.chips=!0,e.config||(e.config={}),e.config.itemTitle="title",e.config.itemDescription="description",e.config.itemValue="value",e.config.itemIcon="icon",super.parse(e,t,i)}}class s extends t.ControlParser{getName(){return null}getValidation(){return null}getDefault(e){}}class l extends t.StringControlParser{parse(e,t,i){return e.validation||(e.validation={}),e.validation.pattern||(e.validation.pattern={value:"^(|([a-zA-Z0-9\\-\\_]+\\:[a-zA-Z0-9\\-\\_]+))$",key:"validation.icon",text:"Invalid icon format"}),super.parse(e,t,i)}}class d extends t.ControlParser{getSubValidationProperty(e,t,i,n){return e.config&&e.config.validatorProp||null}}class c extends t.SelectionControlParser{getDefault(e){return e.config&&e.config.multiple?Array.isArray(e.default)?e.default:[]:null==e.default?e.nullable?null:void 0:e.default}parse(e,i,n){const r=super.parse(e,i,n);return r.config.multiple?t.SelectionControlParser.setConfigUsingValidation(r.config,e.validation,["required","minItems","maxItems"]):t.SelectionControlParser.setConfigUsingValidation(r.config,e.validation,["required"]),r}}class p extends c{parse(e,t,i){return e.display&&"object"==typeof e.display||(e.display={}),e.config&&"object"==typeof e.config||(e.config={}),e.display.chips=!0,e.config.multiple=!0,super.parse(e,t,i)}}class m extends t.ArrayControlParser{getSubValidationProperty(e,t,i,n){return"validations"}getItems(e,t,i,n){return Array.isArray(e.items)?e.items:[]}}class u extends t.ArrayControlParser{getSubValidationProperty(e,t,i,n){return"variantValidations"}getConfig(e,t){return e.config.variantField||(e.config.variantField="variant_name"),e.config}getItems(e,t){return Array.isArray(e.items)?e.items.map(e=>(e={...e},Array.isArray(e.items)||(e.items=[]),e)):[]}}class v extends t.ControlParser{getSubValidationProperty(e,t,i,n){return"validations"}getDefault(e,t){let i=null;return i="object"==typeof e.default?{...e.default}:{},Array.isArray(e.config.regions)&&e.config.regions.map(e=>{i.hasOwnProperty(e.name)&&Array.isArray(i[e.name])||(i[e.name]=[])}),i}getValidation(e,i,n,r){const a=super.getValidation(e,i,n,r);return n.config.regions.map(e=>{null!=e.validation&&"object"==typeof e.validation||(e.validation={}),e.config={},t.ControlParser.setConfigUsingValidation(e.config,e.validation,["required","minItems","maxItems"])}),a}getItems(e,t,i,n){return e.items&&Array.isArray(e.items)?e.items:[]}parse(e,i,n){const r=super.parse(e,i,n);return t.ControlParser.setConfigUsingValidation(r.config,e.validation,["required"]),r}}class h extends t.ControlParser{getSubValidationProperty(e,t,i,n){return"regionVariantValidations"}getDefault(e,t){let i=null;return i="object"==typeof e.default?{...e.default}:{},Array.isArray(e.config.regions)&&e.config.regions.map(e=>{i.hasOwnProperty(e.name)&&Array.isArray(i[e.name])||(i[e.name]=[])}),i}getConfig(e,t){return e.config.variantField||(e.config.variantField="variant_name"),e.config}getValidation(e,i,n,r){const a=super.getValidation(e,i,n,r);return n.config.regions.map(e=>{null!=e.validation&&"object"==typeof e.validation||(e.validation={}),e.config={},t.ControlParser.setConfigUsingValidation(e.config,e.validation,["required","minItems","maxItems"])}),a}getItems(e,t,i,n){return e.items&&Array.isArray(e.items)?e.items.map(e=>(e={...e},Array.isArray(e.items)||(e.items=[]),e)):[]}parse(e,i,n){const r=super.parse(e,i,n);return t.ControlParser.setConfigUsingValidation(r.config,e.validation,["required"]),r}}class f extends t.ControlParser{getSubValidationProperty(e,t,i,n){return"currentVariantValidations"}getDefault(e){let t=e.config&&e.config.variantField?e.config.variantField:"variant_name";return"object"==typeof e.default?{[t]:null,...e.default}:{[t]:null}}getConfig(e,t){return e.config.variantField||(e.config.variantField="variant_name"),e.config}getValidation(e,t,i,n){return null==i.name?(n[i.config.variantField]=super.getValidation(e,t,i,n),{}):{[i.config.variantField]:super.getValidation(e,t,i,n)}}getItems(e,t){return Array.isArray(e.items)?e.items.map(e=>(e={...e},Array.isArray(e.items)||(e.items=[]),e)):[]}parse(e,i,n){const r=super.parse(e,i,n);return t.ControlParser.setConfigUsingValidation(r.config,e.validation,["required"]),r}}class y extends t.SelectionControlParser{parse(e,i,n){const r=super.parse(e,i,n);return t.SelectionControlParser.setConfigUsingValidation(r.config,e.validation,["minItems","maxItems"]),r}}var g=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="text.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-text-field",{attrs:{type:e.inputType,"error-messages":e.allErrors,label:e.$intl.translate(e.display.title),suffix:e.$intl.translate(e.display.suffix),prefix:e.$intl.translate(e.display.prefix),"prepend-icon":e.$controlIcon(e.display.prependIcon),"append-icon":e.$controlIcon(e.display.appendIcon),hint:e.$intl.translate(e.display.hint),placeholder:e.$intl.translate(e.display.placeholder),mask:e.display.mask,clearable:e.display.clearable,box:"box"===e.display.appearance,solo:"solo"===e.display.appearance,"solo-inverted":"solo-inverted"===e.display.appearance,outline:"outline"===e.display.appearance,flat:!!e.display.flat,counter:e.display.counter&&e.config.maxLength||!1,required:e.config.required,maxlength:e.config.maxLength},on:{blur:function(t){e.validate()}},model:{value:e.model[e.name],callback:function(t){e.$set(e.model,e.name,t)},expression:"model[name]"}})},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin],data:()=>({inputType:"text"})},void 0,!1);var _=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="textarea.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-textarea",{attrs:{"error-messages":e.allErrors,label:e.$intl.translate(e.display.title),hint:e.$intl.translate(e.display.hint),placeholder:e.$intl.translate(e.display.placeholder),rows:e.display.rows,suffix:e.$intl.translate(e.display.suffix),prefix:e.$intl.translate(e.display.prefix),"prepend-icon":e.$controlIcon(e.display.prependIcon),"append-icon":e.$controlIcon(e.display.appendIcon),"auto-grow":!!e.display.autoGrow,clearable:e.display.clearable,box:"box"===e.display.appearance,solo:"solo"===e.display.appearance,"solo-inverted":"solo-inverted"===e.display.appearance,outline:"outline"===e.display.appearance,flat:!!e.display.flat,counter:e.display.counter&&e.config.maxLength||!1,required:e.config.required,maxlength:e.config.maxLength},on:{blur:function(t){e.validate()}},model:{value:e.model[e.name],callback:function(t){e.$set(e.model,e.name,t)},expression:"model[name]"}})},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin]},void 0,!1),x={extends:g,created(){this.inputType="email"}},b={extends:g,created(){this.inputType="tel"}};var $=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="number.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-text-field",{attrs:{type:"number","error-messages":e.allErrors,label:e.$intl.translate(e.display.title),suffix:e.$intl.translate(e.display.suffix),prefix:e.$intl.translate(e.display.prefix),"prepend-icon":e.$controlIcon(e.display.prependIcon),"append-icon":e.$controlIcon(e.display.appendIcon),hint:e.$intl.translate(e.display.hint),placeholder:e.$intl.translate(e.display.placeholder),mask:e.display.mask,clearable:e.display.clearable,box:"box"===e.display.appearance,solo:"solo"===e.display.appearance,"solo-inverted":"solo-inverted"===e.display.appearance,outline:"outline"===e.display.appearance,flat:!!e.display.flat,counter:e.display.counter&&e.config.maxLength||!1,required:e.config.required,maxlength:e.config.maxLength,step:e.config.multipleOf||1,min:e.config.minimum,max:e.config.maximum},on:{input:function(t){e.formatValue(t)},blur:function(t){e.validate()}},model:{value:e.model[e.name],callback:function(t){e.$set(e.model,e.name,t)},expression:"model[name]"}})},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin],methods:{formatValue(e){this.$set(this.model,this.name,Number(e))}}},void 0,!1);var P=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="password.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-text-field",{attrs:{type:e.visible?"text":"password","append-icon":e.visible?"visibility_off":"visibility","error-messages":e.allErrors,label:e.$intl.translate(e.display.title),suffix:e.$intl.translate(e.display.suffix),prefix:e.$intl.translate(e.display.prefix),"prepend-icon":e.$controlIcon(e.display.prependIcon),hint:e.$intl.translate(e.display.hint),placeholder:e.$intl.translate(e.display.placeholder),clearable:e.display.clearable,box:"box"===e.display.appearance,solo:"solo"===e.display.appearance,"solo-inverted":"solo-inverted"===e.display.appearance,outline:"outline"===e.display.appearance,flat:!!e.display.flat,counter:e.display.counter&&e.config.maxLength||!1,required:e.config.required,maxlength:e.config.maxLength},on:{"click:append":e.toggle,blur:function(t){e.validate()}},model:{value:e.model[e.name],callback:function(t){e.$set(e.model,e.name,t)},expression:"model[name]"}})},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin],data:()=>({visible:!1}),methods:{toggle(){this.visible=!this.visible}}},void 0,!1),w={extends:g,created(){this.inputType="url"}},F={extends:g,created(){this.display.placeholder="#000000",this.config.maxLength=7,this.inputType="color"}};var I=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="icon.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-text-field",{attrs:{type:"text","error-messages":e.allErrors,label:e.$intl.translate(e.display.title),suffix:e.$intl.translate(e.display.suffix),prefix:e.$intl.translate(e.display.prefix),"prepend-icon":e.$controlIcon(e.display.prependIcon),"append-icon":e.$controlIcon(e.model[e.name]||""),hint:e.$intl.translate(e.display.hint),placeholder:e.$intl.translate(e.display.placeholder),box:"box"===e.display.appearance,solo:"solo"===e.display.appearance,"solo-inverted":"solo-inverted"===e.display.appearance,outline:"outline"===e.display.appearance,flat:!!e.display.flat,counter:e.display.counter&&e.config.maxLength||!1,required:e.config.required,maxlength:e.config.maxLength},on:{blur:function(t){e.validate()}},model:{value:e.model[e.name],callback:function(t){e.$set(e.model,e.name,t)},expression:"model[name]"}})},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin]},void 0,!1),C={mixins:[t.JsonFormElementMixin],render:()=>null},k={mixins:[t.JsonFormElementMixin],render:()=>null,created(){if(null!==this.name&&"string"!=typeof this.model[this.name]){const e=this.$uuid("string"==typeof this.config.separator?this.config.separator:"-");this.$set(this.model,this.name,e)}}};var E=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="slider.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-slider",{attrs:{"error-messages":e.allErrors,label:e.$intl.translate(e.display.title),color:e.display.color||void 0,"prepend-icon":e.$controlIcon(e.display.prependIcon),"append-icon":e.$controlIcon(e.display.appendIcon),hint:e.$intl.translate(e.display.hint),"persistent-hint":"",ticks:!!e.display.ticks,"thumb-label":"",required:e.config.required,step:e.config.multipleOf||1,min:e.config.minimum,max:e.config.maximum},on:{input:function(t){e.formatValue(t)},blur:function(t){e.validate()}},model:{value:e.model[e.name],callback:function(t){e.$set(e.model,e.name,t)},expression:"model[name]"}})},staticRenderFns:[]},0,{name:"slider-control",mixins:[t.JsonFormElementMixin],methods:{formatValue(e){this.$set(this.model,this.name,Number(e))}}},void 0,!1);var R=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="checkbox.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-checkbox",{staticClass:"mt-0",attrs:{"error-messages":e.allErrors,color:e.display.color||void 0,label:e.$intl.translate(e.display.title),"prepend-icon":e.$controlIcon(e.display.prependIcon),"append-icon":e.$controlIcon(e.display.appendIcon),hint:e.$intl.translate(e.display.hint),"persistent-hint":"","false-value":!1,"true-value":!0,required:e.config.required},on:{blur:function(t){e.validate()}},model:{value:e.model[e.name],callback:function(t){e.$set(e.model,e.name,t)},expression:"model[name]"}})},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin]},void 0,!1);var S=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="ControlLabel.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{directives:[{name:"show",rawName:"v-show",value:null!=e.text&&""!==e.text,expression:"text != null && text !== ''"}],staticClass:"v-label",class:{"error--text":e.hasError}},[e._v(e._s(e.text)),i("sup",{directives:[{name:"show",rawName:"v-show",value:e.required,expression:"required"}],staticStyle:{"user-select":"none"}},[e._v("*")])])},staticRenderFns:[]},0,{name:"control-label",props:{text:{type:String,required:!1,default:null},hasError:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1}}},void 0,!1);var V=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="ControlIcon.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this.$createElement;return(this._self._c||e)("v-icon",this._b({domProps:{textContent:this._s(this.icon)}},"v-icon",this.$attrs,!1))},staticRenderFns:[]},0,{name:"control-icon",computed:{icon(){const e=this.$slots.default;if(e&&e[0])return this.$controlIcon(e[0].text)}}},void 0,!1);var D=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="Block.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:null!==this.error,expression:"error !== null"}],staticClass:"v-messages error--text"},[t("div",{staticClass:"v-messages__message"},[this._v("\n        "+this._s(this.error)+"\n    ")])])},staticRenderFns:[]},0,{name:"block-error",props:{error:{type:String,default:null,required:!1}}},void 0,!1);var T=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="List.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:null!==this.error,expression:"error !== null"}],staticClass:"v-messages mt-1 error--text"},[t("div",{staticClass:"v-messages__message"},[this._v("\n        "+this._s(this.error)+"\n    ")])])},staticRenderFns:[]},0,{name:"list-error",props:{error:{type:String,default:null,required:!1}}},void 0,!1);var q=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="DialogForms.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.dialogs.length>0?i("div",e._l(e.dialogs,function(t,n){return i("v-dialog",{key:e.$uniqueObjectId(t,n),attrs:{lazy:"",fullscreen:"",transition:"dialog-bottom-transition",overlay:!1,scrollable:""},model:{value:t.active,callback:function(i){e.$set(t,"active",i)},expression:"dialog.active"}},[i("v-card",[i("v-toolbar",{staticStyle:{flex:"0 0 auto"},attrs:{color:e.getColor(n),dark:""}},[i("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(i){e.onCancel(t)}}},[i("v-icon",[e._v("close")])],1),e._v(" "),i("v-toolbar-title",[e._v(e._s(e.$intl.translate(t.title,t.model)))]),e._v(" "),i("v-spacer"),e._v(" "),i("v-toolbar-items",[i("v-btn",{attrs:{dark:"",flat:"",disabled:e.$v.dialogs[n].$pending||e.$v.dialogs[n].$dirty&&e.$v.dialogs[n].$invalid,loading:e.$v.dialogs[n].$pending},nativeOn:{click:function(i){e.onSubmit(t)}}},[e._v("\n                        "+e._s(e.$intl.translate(t.button,t.model))+"\n                    ")])],1)],1),e._v(" "),i("v-card-text",[i("v-form",{on:{submit:function(i){i.preventDefault(),e.onSubmit(t)}}},[i("json-form-group",{ref:"formGroup",refInFor:!0,attrs:{items:t.form,model:t.model,validator:e.$v.dialogs[n].model,name:t.name,path:t.path,wrapper:e.me,"validations-container":t.validator,"parent-validations-container":t.validator}}),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"submit"}})],1)],1)],1)],1)})):e._e()},staticRenderFns:[]},0,{name:"dialog-forms",components:{JsonFormGroup:t.JsonFormGroup},mixins:[t.ValidationMixin,t.JsonFormParserMixin],props:{pushDelay:{type:Number,default:100},popDelay:{type:Number,default:500},colors:{type:Array,default:()=>["blue","indigo","deep-purple","purple"]},path:{type:Array,default:()=>[]},options:{type:Object,default:()=>({})}},data(){return{me:this,dialogs:[]}},validations(){const e={};return this.dialogs.map((t,i)=>{const n={model:t.validator};e[i+""]=t.name?{[t.name]:n}:n}),{dialogs:e}},methods:{getColor(e){if(0!==this.colors.length)return this.colors[e%this.colors.length]},pushUnparsedForm(e,t){(e={...e}).validator={},e.items=this.parser.parseControlList(e.items||[],e.validator),void 0!==t&&(e.model=t),this.pushForm(e)},pushForm(e){const t={active:!1,form:e.items||[],validator:e.validator||{},name:e.name||void 0,model:e.model||{},actions:e.actions||{},title:e.title||null,button:e.button||"Save",path:e.path||[]};this.dialogs.push(t),setTimeout(()=>{this.$v.dialogs[this.dialogs.length-1].$reset(),t.active=!0},this.pushDelay)},popForm(){const e=this.dialogs.length;0!==e&&(this.dialogs[e-1].active=!1,setTimeout(()=>{this.dialogs.pop()},this.popDelay))},clearForms(){this.dialogs.splice(0,this.dialogs.length)},onCancel(e){return("function"!=typeof e.actions.cancel||!1!==e.actions.cancel(e.model))&&(this.popForm(),!0)},onSubmit(e){const t=this.dialogs.indexOf(e);if(t<0)return!1;const i=this.$v.dialogs[t].model;return i.$touch(),!i.$invalid&&!i.$pending&&("function"==typeof e.actions.submit?!0===e.actions.submit(e.model,this.$clone(e.model))&&this.popForm():this.popForm(),!0)},onRouteLeave(e){const t=this.dialogs.length;return 0===t||!!e(this.$refs.formGroup[t-1])&&(this.onCancel(this.dialogs[t-1]),!1)}}},void 0,!1);var M=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="BlockForm.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{style:e.heightStyle,attrs:{flat:e.flat}},[null!==e.title||null!==e.subtitle?i("v-card-title",{attrs:{"primary-title":""}},[i("div",[null!==e.title?i("div",{staticClass:"headline"},[e._v(e._s(e.title))]):e._e(),e._v(" "),null!==e.subtitle?i("div",[e._v(e._s(e.subtitle))]):e._e()])]):e._e(),e._v(" "),i("v-card-text",[i("v-form",{on:{submit:function(t){t.preventDefault(),e.doSubmit()}}},[null!==e.model&&null!==e.items?i("json-form-group",{ref:"formGroup",attrs:{items:e.parsed.items,model:e.model,validator:e.validatorProxy,"validations-container":e.parsed.validator,"parent-validations-container":e.parsed.validator,wrapper:e.me,path:e.path}}):e._e(),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"submit"}})],1)],1),e._v(" "),i("v-card-actions",[e._t("default",[i("v-spacer"),e._v(" "),i("v-btn",{attrs:{color:"primary",disabled:e.processing||e.$v.$pending||e.$v.$dirty&&e.$v.$invalid,loading:e.processing},on:{click:function(t){t.stopPropagation(),e.submitProps.submit()}}},[e._v("\n                "+e._s(e.submitButton)+"\n            ")])],{submitDisabled:e.processing||e.$v.$pending||e.$v.$dirty&&e.$v.$invalid},e.submitProps)],2),e._v(" "),i("dialog-forms",{ref:"formOverlay",attrs:{options:e.options,parser:e.parser}})],1)},staticRenderFns:[]},0,{name:"block-form",components:{DialogForms:q},mixins:[t.JsonFormMixin],props:{title:{type:String,default:null},subtitle:{type:String,default:null},submitButton:{type:String,default:"Submit"},fillHeight:{type:Boolean,default:!1},flat:{type:Boolean,default:!1}},data(){return{me:this,submitProps:{form:this,validate:()=>{this.$v.$touch()},reset:()=>{this.$v.$reset()},submit:()=>this.doSubmit(),invalid:()=>this.$v.$invalid,pending:()=>this.$v.$pending,dirty:()=>this.$v.$dirty}}},computed:{heightStyle(){return this.fillHeight?{"min-height":"100%"}:void 0}}},void 0,!1);const O=[()=>!1];var A=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="StepperForm.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-form",{style:e.heightStyle,on:{submit:function(t){t.preventDefault(),t.stopPropagation(),e.currentDataStep&&e.nextStep(e.currentDataStep,e.currentStep-1)}}},[e.showStepper?i("v-stepper",{style:e.heightStyle,attrs:{vertical:e.vertical},model:{value:e.currentStep,callback:function(t){e.currentStep=t},expression:"currentStep"}},[e.vertical?[e._l(e.dataSteps,function(t,n){return[i("v-stepper-step",{key:e.$uniqueObjectId(t)+"h",attrs:{complete:t.complete,editable:t.editable&&t.touched||e.stepHasError(t,n,!0),rules:e.stepHasError(t,n)?e.invalidStep:void 0,step:n+1}},[e._v("\n                    "+e._s(e.$uniqueObjectId(t))+"\n                    "+e._s(e.$intl.translate(t.title))+"\n                    "),t.description?i("small",[e._v(e._s(e.$intl.translate(t.description)))]):e._e()]),e._v(" "),i("v-stepper-content",{key:e.$uniqueObjectId(t)+"c",attrs:{step:n+1}},[t.parsed?i("json-form-group",{ref:"formGroup",refInFor:!0,attrs:{items:t.form,model:e.dataValue[n],name:t.name,"parent-validations-container":t.validator,path:t.name?[t.name]:[],"validations-container":t.validator,validator:e.$v.dataValue[n],wrapper:e.me}}):e._e(),e._v(" "),i("v-btn",{staticClass:"mt-4",attrs:{disabled:e.processing||e.isButtonDisabled(t,n),loading:e.processing||e.isButtonLoading(t,n),color:"primary"},on:{click:function(i){i.stopPropagation(),e.nextStep(t,n)}}},[e._v("\n                        "+e._s(e.$intl.translate(e.getButtonText(t,n)))+"\n                    ")])],1)]})]:[i("v-stepper-header",[e._l(e.dataSteps,function(t,n){return[i("v-stepper-step",{key:e.$uniqueObjectId(t)+"h",attrs:{complete:t.complete,editable:t.editable&&t.touched||e.stepHasError(t,n,!0),rules:e.stepHasError(t,n)?e.invalidStep:void 0,step:n+1}},[e._v("\n                        "+e._s(e.$uniqueObjectId(t))+"\n                        "+e._s(e.$intl.translate(t.title))+"\n                        "),t.description?i("small",[e._v(e._s(e.$intl.translate(t.description)))]):e._e()]),e._v(" "),n!==e.dataSteps.length-1?i("v-divider",{key:e.$uniqueObjectId(t)+"d"}):e._e()]})],2),e._v(" "),i("v-stepper-items",[e._l(e.dataSteps,function(t,n){return[i("v-stepper-content",{key:e.$uniqueObjectId(t)+"c",attrs:{step:n+1}},[t.parsed?i("json-form-group",{ref:"formGroup",refInFor:!0,attrs:{items:t.form,model:e.dataValue[n],name:t.name,"parent-validations-container":t.validator,path:t.name?[t.name]:[],"validations-container":t.validator,validator:e.$v.dataValue[n],wrapper:e.me}}):e._e(),e._v(" "),i("v-layout",[i("v-spacer"),e._v(" "),i("v-btn",{attrs:{disabled:e.processing||e.isButtonDisabled(t,n),loading:e.processing||e.isButtonLoading(t,n),color:"primary"},on:{click:function(i){i.stopPropagation(),e.nextStep(t,n)}}},[e._v("\n                                "+e._s(e.$intl.translate(e.getButtonText(t,n)))+"\n                            ")])],1)],1)]})],2)]],2):e._e(),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"submit"}}),e._v(" "),i("dialog-forms",{ref:"formOverlay",attrs:{options:e.options,parser:e.parser}})],1)},staticRenderFns:[]},0,{name:"stepper-form",components:{DialogForms:q},mixins:[t.JsonMultiStepFormMixin],props:{nextButtonText:{type:[String,Object],default:"Next"},finishButtonText:{type:[String,Object],default:"Finish"},fillHeight:{type:Boolean,default:!0},vertical:{type:Boolean,default:!0}},data(){return{me:this,invalidStep:O,showStepper:!0}},computed:{heightStyle(){return this.fillHeight?{"min-height":"100%"}:void 0}},watch:{vertical(){const e={},t=this.$clone(this.model);this.dataSteps.map((t,i)=>{t.parsed&&null!=t.model&&(e[i]=this.$clone(t.model))});const i=this.currentStep;this.showStepper=!1,this.$nextTick(()=>{for(const e in t)t.hasOwnProperty(e)&&this.$set(this.model,e,t[e]);Object.keys(e).map(t=>{this.dataSteps[parseInt(t,10)].model=e[t]}),this.$set(this,"currentStep",i),this.showStepper=!0})}},methods:{getButtonText(e,t){return e.nextButton?e.nextButton:t+1===this.dataSteps.length?this.finishButtonText:this.nextButtonText},isButtonDisabled(e,t){return!(!this.isButtonLoading(e,t)&&!this.stepHasError(e,t))},isButtonLoading(e,t){return this.loadingStep===t+1||e.parsed&&this.$v.dataValue[t].$pending}}},void 0,!1);var B=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="checkbox-multi.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("control-label",{attrs:{text:e.$intl.translate(e.display.title),"has-error":e.allErrors.length>0,required:e.config.required}}),e._v(" "),e._l(e.items,function(t){return i("v-checkbox",{key:e.$uniqueObjectId(t),staticClass:"mt-0",attrs:{value:t.value,multiple:"",color:t.color||void 0,label:e.$intl.translate(t.title),"prepend-icon":e.$controlIcon(t.icon),hint:e.$intl.translate(t.description),"persistent-hint":""},model:{value:e.model[e.name],callback:function(t){e.$set(e.model,e.name,t)},expression:"model[name]"}})}),e._v(" "),i("block-error",{attrs:{error:e.allErrors.length>0?e.allErrors[0]:void 0}})],2)},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin],components:{ControlLabel:S,BlockError:D}},void 0,!1);var j=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="switch.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-switch",{staticClass:"mt-0",attrs:{"error-messages":e.allErrors,color:e.display.color||void 0,label:e.$intl.translate(e.display.title),"prepend-icon":e.$controlIcon(e.display.prependIcon),"append-icon":e.$controlIcon(e.display.appendIcon),hint:e.$intl.translate(e.display.hint),"persistent-hint":"","false-value":!1,"true-value":!0,required:e.config.required},on:{blur:function(t){e.validate()}},model:{value:e.model[e.name],callback:function(t){e.$set(e.model,e.name,t)},expression:"model[name]"}})},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin]},void 0,!1);var L=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="radio.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-radio-group",{attrs:{column:!e.display.inline,row:!!e.display.inline,label:e.$intl.translate(e.display.title),"error-messages":e.allErrors,"value-comparator":e.$equals,mandatory:!!e.config.required},model:{value:e.model[e.name],callback:function(t){e.$set(e.model,e.name,t)},expression:"model[name]"}},e._l(e.items,function(t,n){return i("v-radio",{key:n,class:{"ml-1":0===n&&!!e.display.inline},attrs:{label:e.$intl.translate(t.title),value:t.value,color:t.color||e.display.color||void 0}})}))},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin],mounted(){if(this.model.hasOwnProperty(this.name)){this.items.some(e=>this.$equals(this.modelProxy,e.value))||this.$delete(this.model,this.name)}}},void 0,!1);var J=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="select.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-select",{attrs:{"error-messages":e.allErrors,loading:0===e.translatedItems.length,label:e.$intl.translate(e.display.title),hint:e.$intl.translate(e.display.hint),"persistent-hint":"",placeholder:e.$intl.translate(e.display.placeholder),"prepend-icon":e.$controlIcon(e.display.prependIcon),"append-icon":e.$controlIcon(e.display.appendIcon),multiple:e.config.multiple||!1,required:e.config.required,items:e.translatedItems,"item-value":e.valueProp,"item-text":e.titleProp,"item-avatar":e.iconProp,"value-comparator":e.$equals,clearable:!!e.display.clearable,box:"box"===e.display.appearance,solo:"solo"===e.display.appearance,"solo-inverted":"solo-inverted"===e.display.appearance,outline:"outline"===e.display.appearance,flat:!!e.display.flat},scopedSlots:e._u([{key:e.display.chips?"selection":void 0,fn:function(t){return e.display.chips?[e.config.multiple?i("v-chip",{key:e.$uniqueObjectId(t.item),attrs:{close:"",selected:t.selected,disabled:t.disabled},on:{input:function(i){e.removeChip(t)}}},[e.display.icons&&t.item[e.iconProp]?i("v-avatar",{staticClass:"accent"},[i("v-icon",[e._v(e._s(e.$controlIcon(t.item[e.iconProp])))])],1):e._e(),e._v("\n            "+e._s(t.item[e.titleProp])+"\n        ")],1):[e.display.icons&&t.item[e.iconProp]?i("v-icon",{staticClass:"mr-1"},[e._v("\n                "+e._s(e.$controlIcon(t.item[e.iconProp]))+"\n            ")]):e._e(),e._v(" "),i("span",{staticClass:"grey--text text--darken-4"},[e._v(e._s(t.item[e.titleProp]))])]]:void 0}},{key:e.display.icons?"item":void 0,fn:function(t){return!0===e.display.icons?[i("v-list-tile-avatar",[t.item[e.iconProp]?i("v-icon",{attrs:{color:e.isItemSelected(t)?"accent":void 0}},[e._v("\n                "+e._s(e.$controlIcon(t.item[e.iconProp]))+"\n            ")]):e._e()],1),e._v(" "),i("v-list-tile-content",{attrs:{color:e.isItemSelected(t)?"accent":void 0}},[i("v-list-tile-title",[e._v("\n                "+e._s(t.item[e.titleProp])+"\n            ")]),e._v(" "),i("v-list-tile-sub-title",[e._v("\n                "+e._s(t.item[e.descriptionProp])+"\n            ")])],1)]:void 0}}]),model:{value:e.model[e.name],callback:function(t){e.$set(e.model,e.name,t)},expression:"model[name]"}})},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin],data:()=>({translatedItems:[]}),created(){this.translatedItems=this.translateItems(this.items)},methods:{removeChip(e){this.config.multiple?e.parent.selectItem(e.item):this.$delete(this.model,this.name)},isItemSelected(e){return this.config.multiple?e.parent.selectedItems.indexOf(e.item)>-1:e.parent.selectedItem===e.item},translateItems(e){return e.map(e=>e.hasOwnProperty(this.valueProp)?((e={...e})[this.titleProp]=this.$intl.translate(e[this.titleProp]),e[this.descriptionProp]=this.$intl.translate(e[this.descriptionProp]),e[this.iconProp]&&(e[this.iconProp]=this.$controlIcon(e[this.iconProp])),e):e.hasOwnProperty("header")?{header:this.$intl.translate(e.header)}:e)}},computed:{titleProp(){return this.config.titleProp||"title"},valueProp(){return this.config.valueProp||"value"},descriptionProp(){return this.config.descriptionProp||"description"},iconProp(){return this.config.iconProp||"icon"},itemsProp(){return this.config.itemsProp||"items"}}},void 0,!1);var N=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="combobox.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-combobox",{attrs:{"error-messages":e.allErrors,label:e.$intl.translate(e.display.title),suffix:e.$intl.translate(e.display.suffix),prefix:e.$intl.translate(e.display.prefix),"prepend-icon":e.$controlIcon(e.display.prependIcon),"append-icon":e.$controlIcon(e.display.appendIcon),hint:e.$intl.translate(e.display.hint),placeholder:e.$intl.translate(e.display.placeholder),box:"box"===e.display.appearance,solo:"solo"===e.display.appearance,"solo-inverted":"solo-inverted"===e.display.appearance,outline:"outline"===e.display.appearance,flat:!!e.display.flat,chips:Boolean(e.display.chips&&e.config.multiple),"deletable-chips":"",items:e.items,"search-input":e.search,multiple:!!e.config.multiple},on:{blur:function(t){e.validate()},"update:searchInput":function(t){e.search=t}},model:{value:e.model[e.name],callback:function(t){e.$set(e.model,e.name,t)},expression:"model[name]"}})},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin],data:()=>({search:null})},void 0,!1);var G=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="description.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-alert",{attrs:{value:!0,outline:e.outline,color:e.color,icon:e.icon}},[null!=e.display.title?i("div",{staticClass:"title",domProps:{textContent:e._s(e.$intl.translate(e.display.title))}}):e._e(),e._v(" "),null!=e.display.text?i("div",{domProps:{innerHTML:e._s(e.$intl.translate(e.display.text))}}):e._e()])},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin],computed:{outline(){return!this.display.hasOwnProperty("outline")||Boolean(this.display.outline)},color(){return this.display.color||"info"},icon(){if(this.display.icon)return this.$controlIcon(this.display.icon);switch(this.color){case"success":return"check_circle";case"info":return"info";case"warning":return"warning";case"error":return"error"}}}},void 0,!1);const U=["xs","sm","md","lg","xl"];var H=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="col.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-flex",e._b({staticClass:"pb-0"},"v-flex",e.colProps,!1),e._l(e.items,function(t,n){return i("json-form-element",{key:e.$uniqueObjectId(t,n),ref:"formElement",refInFor:!0,attrs:{control:t,model:e.modelProxy,validator:e.validatorProxy,wrapper:e.wrapper,path:e.path,"parent-validations-container":e.parentValidationsContainer,"validations-container":e.validationsContainer}})}))},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin],components:{JsonFormElement:t.JsonFormElement},computed:{colProps(){let e={};return this.display.size&&this.setDeviceProps(e,this.display.size,"","md"),this.display.offset&&this.setDeviceProps(e,this.display.offset,"offset-","offset-md"),e}},methods:{setDeviceProps(e,t,i,n=null){"object"==typeof t?U.map(n=>{t.hasOwnProperty(n)&&(e[i+n+t[n]]=!0)}):t&&n&&(e[n+t]=!0)},onRouteLeave(e){return e(this.$refs.formElement)}}},void 0,!1);var W=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="row.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{staticClass:"px-0 py-0",attrs:{fluid:"","grid-list-xl":""}},[i("v-layout",{attrs:{row:"",wrap:""}},e._l(e.items,function(t,n){return i("json-form-element",{key:e.$uniqueObjectId(t,n),ref:"formElement",refInFor:!0,attrs:{control:t,model:e.modelProxy,validator:e.validatorProxy,wrapper:e.wrapper,path:e.path,"parent-validations-container":e.parentValidationsContainer,"validations-container":e.validationsContainer}})}))],1)},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin],components:{JsonFormElement:t.JsonFormElement},methods:{onRouteLeave(e){return e(this.$refs.formElement)}}},void 0,!1);var z=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="group.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return!0===e.display.panel?i("v-expansion-panel",{attrs:{expand:""}},[i("v-expansion-panel-content",[i("div",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.$intl.translate(e.display.title)))]),e._v(" "),i("json-form-group",{ref:"formGroup",staticClass:"px-2",attrs:{model:e.modelProxy,validator:e.validatorProxy,items:e.items,wrapper:e.wrapper,path:e.path,"parent-validations-container":e.parentValidationsContainer,"validations-container":e.validationsContainer}})],1)],1):i("div",[e.display.title?i("v-subheader",{staticClass:"mb-0"},[i("control-label",{attrs:{text:e.$intl.translate(e.display.title)}})],1):e._e(),e._v(" "),i("json-form-group",{ref:"formGroup",attrs:{model:e.modelProxy,validator:e.validatorProxy,items:e.items,wrapper:e.wrapper,path:e.path,"parent-validations-container":e.parentValidationsContainer,"validations-container":e.validationsContainer}})],1)},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin],components:{JsonFormGroup:t.JsonFormGroup,ControlLabel:S},methods:{onRouteLeave(e){return e(this.$refs.formGroup)}}},void 0,!1);var Z=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="switch-group.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-switch",{attrs:{color:e.display.color||void 0,label:e.$intl.translate(e.display.title),"prepend-icon":e.$controlIcon(e.display.prependIcon),"append-icon":e.$controlIcon(e.display.appendIcon),hint:e.$intl.translate(e.display.hint),"persistent-hint":"","error-messages":e.switchErrors,required:e.config.required},model:{value:e.switchValue,callback:function(t){e.switchValue=t},expression:"switchValue"}}),e._v(" "),i("json-form-group",{ref:"formGroup",attrs:{model:e.modelProxy,validator:e.validatorProxy,items:e.parsed.items,wrapper:e.wrapper,path:e.path,"parent-validations-container":e.parentValidationsContainer,"validations-container":e.validationsContainer}})],1)},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin],components:{JsonFormGroup:t.JsonFormGroup},data(){return{switchValue:null!=this.model[this.name],lastModel:{}}},created(){this.switchValue=null!=this.modelProxy},watch:{switchValue(e){e?this.$set(this.model,this.name,this.lastModel||{}):(this.lastModel=this.$clone(this.modelProxy),this.$set(this.model,this.name,null),this.validate())},modelProxy(e){null==e?this.switchValue=!1:this.switchValue||(this.switchValue=!0)}},computed:{validations(){return this.parsed.validators},parsed(){const e={};return this.switchValue?{validators:e,items:this.wrapper.parser.parseControlList(this.items,e)}:{validators:e,items:[]}},switchErrors(){return this.switchValue?[]:this.allErrors}},methods:{onRouteLeave(e){return null==this.modelProxy||e(this.$refs.formGroup)}}},void 0,!1);var K=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="tabs.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-tabs",[i("v-tabs-slider",{attrs:{color:e.display.color||void 0}}),e._v(" "),e._l(e.items,function(t,n){return i("v-tab",{key:e.$uniqueObjectId(t,n),attrs:{href:"#"+e.tabPrefix+"-tab-"+(t.name||n)}},[e.tabHasError(t)?i("v-icon",{attrs:{color:"red"}},[e._v("error")]):t.icon?i("v-icon",[e._v(e._s(t.icon))]):e._e(),e._v("\n        "+e._s(e.$intl.translate(t.title))+"\n    ")],1)}),e._v(" "),i("v-tabs-items",{staticClass:"mt-1"},e._l(e.items,function(t,n){return i("v-tab-item",{key:e.$uniqueObjectId(t,n),staticClass:"px-1",attrs:{id:e.tabPrefix+"-tab-"+(t.name||n)}},[i("json-form-group",{ref:"formGroup",refInFor:!0,attrs:{model:e.modelProxy,validator:e.validatorProxy,items:t.items,name:t.name,wrapper:e.wrapper,path:e.path,"parent-validations-container":e.parentValidationsContainer,"validations-container":e.validationsContainer}})],1)}))],2)},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin],components:{JsonFormGroup:t.JsonFormGroup},data(){return{tabPrefix:this.$uniqueObjectId(this)}},methods:{tabHasError(e,t=!1){if(e.name){const i=this.validatorProxy[e.name];return!(!i||!t&&!i.$dirty)&&i.$invalid}const i=(e,n)=>e.config&&Array.isArray(e.config.regions)?e.config.some(e=>{const i=n[e.name];return!(!i||!t&&!i.$dirty)&&i.$invalid}):!!Array.isArray(e.items)&&e.items.some(e=>null!==e.name?!(!t&&!n.$dirty)&&n.$invalid:i(e,n));return i(e,this.validatorProxy)},onRouteLeave(e){return e(this.$refs.formGroup)}},created(){this.items.map(e=>{e.name&&!this.modelProxy.hasOwnProperty(e.name)&&this.$set(this.modelProxy,e.name,{})})},destroyed(){this.items.map(e=>{e.name&&this.$delete(this.modelProxy,e.name)})}},void 0,!1);var Q=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="async-group.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return null!==e.asyncFields?i("json-form-group",{ref:"formGroup",attrs:{model:e.modelProxy,items:e.asyncFields,validator:e.validatorProxy,path:e.path,wrapper:e.wrapper,"parent-validations-container":e.parentValidationsContainer,"validations-container":e.validationsContainer}}):i("v-progress-linear",{attrs:{indeterminate:""}})},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin],components:{JsonFormGroup:t.JsonFormGroup},data:()=>({asyncFields:null,asyncValidator:null}),beforeDestroy(){this.asyncFields=null,this.asyncValidator=null},created(){this.loadFields()},computed:{validations(){return this.asyncValidator}},methods:{loadFields(){if("function"!=typeof this.config.loader)return;const e=this.config.loader(this);e instanceof Promise&&(this.asyncValidator=e.then(e=>{const t={};return this.asyncFields=this.wrapper.parser.parseControlList(this.$clone(e),t),t}))},onRouteLeave(e){return null===this.asyncFields||e(this.$refs.formGroup)}}},void 0,!1),X={mixins:[t.JsonFormElementMixin],computed:{form(){return{name:this.name,validator:this.validator,model:this.model,config:this.config,display:this.display,wrapper:this.wrapper,path:this.path,validationsContainer:this.validationsContainer,parentValidationsContainer:this.parentValidationsContainer}}},render(e){const t=this.config.component,i=this.config.data||{},n=this.config.alias||"form";return i.props||(i.props={}),this.config.props&&Object.assign(i.props,this.config.props),i.props[n]=this.form,e(t,i)}};var Y=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="date.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{persistent:"",lazy:"","full-width":"",width:e.landscape?460:290},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[i("v-text-field",{attrs:{slot:"activator",readonly:"","error-messages":e.allErrors,label:e.$intl.translate(e.display.title),suffix:e.$intl.translate(e.display.suffix),prefix:e.$intl.translate(e.display.prefix),hint:e.$intl.translate(e.display.hint),"persistent-hint":"","prepend-icon":e.$controlIcon(e.display.prependIcon),"append-icon":e.$controlIcon(e.display.appendIcon)||"event",clearable:"",box:"box"===e.display.appearance,solo:"solo"===e.display.appearance,"solo-inverted":"solo-inverted"===e.display.appearance,outline:"outline"===e.display.appearance,flat:!!e.display.flat,required:e.config.required},on:{input:function(t){null===t&&e.handleClear()}},slot:"activator",model:{value:e.dateFormatted,callback:function(t){e.dateFormatted=t},expression:"dateFormatted"}}),e._v(" "),i("v-date-picker",{attrs:{min:e.config.minDate,max:e.config.maxDate,locale:e.locale,"first-day-of-week":e.firstDayOfWeek,color:e.display.color||void 0,landscape:e.landscape,scrollable:""},model:{value:e.dateModel,callback:function(t){e.dateModel=t},expression:"dateModel"}},[i("v-spacer"),e._v(" "),i("v-btn",{attrs:{flat:"",icon:"",color:"red"},on:{click:function(t){t.stopPropagation(),e.onCancel()}}},[i("v-icon",[e._v("clear")])],1),e._v(" "),i("v-btn",{attrs:{flat:"",icon:"",color:"green"},on:{click:function(t){t.stopPropagation(),e.onSave()}}},[i("v-icon",[e._v("check")])],1)],1)],1)},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin],data:()=>({showDialog:!1,dateFormatted:null,dateModel:null}),watch:{modelProxy(e){e?(this.dateModel=e,this.dateFormatted=this.formatDate(this.dateModel)):this.dateFormatted=null}},computed:{landscape(){return this.display.landscape&&this.$vuetify.breakpoint.mdAndUp||!1},locale(){if(this.config.locale)return this.config.locale;return(this.wrapper.options||{}).language||"en"},firstDayOfWeek(){if(this.config.firstDayOfWeek)return this.config.firstDayOfWeek;return(this.wrapper.options||{}).firstDayOfWeek||0}},mounted(){this.dateModel=this.modelProxy,this.updateValue(!1)},methods:{handleClear(){this.dateModel=null,this.$delete(this.model,this.name)},onSave(){this.showDialog=!1,this.updateValue()},onCancel(){this.showDialog=!1,this.modelProxy&&(this.dateModel=this.modelProxy)},updateValue(e=!0){this.$set(this.model,this.name,this.dateModel),this.dateFormatted=this.formatDate(this.dateModel),e&&this.validate()},formatDate(e){return e?new Date(e).toLocaleDateString(this.locale):null},onRouteLeave(e){return!this.showDialog||(this.onCancel(),!1)}}},void 0,!1);var ee=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="time.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{persistent:"",lazy:"","full-width":"",width:e.landscape?460:290},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[i("v-text-field",{attrs:{slot:"activator",readonly:"","error-messages":e.allErrors,label:e.$intl.translate(e.display.title),suffix:e.$intl.translate(e.display.suffix),prefix:e.$intl.translate(e.display.prefix),"prepend-icon":e.$controlIcon(e.display.prependIcon),"append-icon":e.$controlIcon(e.display.appendIcon)||"access_time",clearable:"",box:"box"===e.display.appearance,solo:"solo"===e.display.appearance,"solo-inverted":"solo-inverted"===e.display.appearance,outline:"outline"===e.display.appearance,flat:!!e.display.flat,required:e.config.required},on:{input:function(t){null===t&&e.handleClear()}},slot:"activator",model:{value:e.model[e.name],callback:function(t){e.$set(e.model,e.name,t)},expression:"model[name]"}}),e._v(" "),i("v-time-picker",{attrs:{min:e.config.minTime,max:e.config.maxTime,format:e.display.ampm?"ampm":"24hr",color:e.display.color||void 0,landscape:e.landscape,scrollable:""},model:{value:e.timeModel,callback:function(t){e.timeModel=t},expression:"timeModel"}},[i("v-spacer"),e._v(" "),i("v-btn",{attrs:{flat:"",icon:"",color:"red"},on:{click:function(t){t.stopPropagation(),e.onCancel()}}},[i("v-icon",[e._v("clear")])],1),e._v(" "),i("v-btn",{attrs:{flat:"",icon:"",color:"green"},on:{click:function(t){t.stopPropagation(),e.onSave()}}},[i("v-icon",[e._v("check")])],1)],1)],1)},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin],data:()=>({showDialog:!1,timeModel:"00:00"}),mounted(){this.timeModel=this.modelProxy,this.updateValue(!1)},computed:{landscape(){return this.display.landscape&&this.$vuetify.breakpoint.mdAndUp||!1}},methods:{handleClear(){this.timeModel="00:00",this.$delete(this.model,this.name)},onSave(){this.showDialog=!1,this.updateValue()},onCancel(){this.showDialog=!1,this.timeModel=this.modelProxy||"00:00"},updateValue(e=!0){this.$set(this.model,this.name,this.timeModel),e&&this.validate()},onRouteLeave(e){return!this.showDialog||(this.onCancel(),!1)}}},void 0,!1);var te=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="date-time.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{persistent:"",lazy:"","full-width":"",width:e.landscape?460:290},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[i("v-layout",{attrs:{slot:"activator",row:""},slot:"activator"},[i("v-text-field",{attrs:{readonly:"","error-messages":e.allErrors,label:e.$intl.translate(e.display.title),suffix:e.$intl.translate(e.display.suffix),prefix:e.$intl.translate(e.display.prefix),"prepend-inner-icon":"event","append-icon":"access_time",clearable:"",box:"box"===e.display.appearance,solo:"solo"===e.display.appearance,"solo-inverted":"solo-inverted"===e.display.appearance,outline:"outline"===e.display.appearance,flat:!!e.display.flat,required:e.config.required},on:{input:function(t){null===t&&e.handleClear()},"click:prepend-inner":function(t){e.showDate()},"click:append":function(t){e.showTime()}},model:{value:e.dateFormatted,callback:function(t){e.dateFormatted=t},expression:"dateFormatted"}})],1),e._v(" "),i("v-time-picker",{directives:[{name:"show",rawName:"v-show",value:e.timePick,expression:"timePick"}],attrs:{min:e.allowedTimes.min,max:e.allowedTimes.max,format:e.display.ampm?"ampm":"24hr",color:e.display.color||void 0,landscape:e.landscape,scrollable:""},model:{value:e.timeModel,callback:function(t){e.timeModel=t},expression:"timeModel"}},[i("v-btn",{attrs:{icon:"",flat:""},on:{click:function(t){e.timePick=!1}}},[i("v-icon",[e._v("event")])],1),e._v(" "),i("v-spacer"),e._v(" "),i("v-btn",{attrs:{flat:"",icon:"",color:"red"},on:{click:function(t){t.stopPropagation(),e.onCancel()}}},[i("v-icon",[e._v("clear")])],1),e._v(" "),i("v-btn",{attrs:{flat:"",icon:"",color:"green"},on:{click:function(t){t.stopPropagation(),e.onSave()}}},[i("v-icon",[e._v("check")])],1)],1),e._v(" "),i("v-date-picker",{directives:[{name:"show",rawName:"v-show",value:!e.timePick,expression:"!timePick"}],attrs:{min:e.allowedDates.min,max:e.allowedDates.max,locale:e.locale,"first-day-of-week":e.firstDayOfWeek,color:e.display.color||void 0,landscape:e.landscape,scrollable:""},model:{value:e.dateModel,callback:function(t){e.dateModel=t},expression:"dateModel"}},[i("v-btn",{attrs:{icon:"",flat:""},on:{click:function(t){e.timePick=!0}}},[i("v-icon",[e._v("access_time")])],1),e._v(" "),i("v-spacer"),e._v(" "),i("v-btn",{attrs:{flat:"",icon:"",color:"red"},on:{click:function(t){t.stopPropagation(),e.onCancel()}}},[i("v-icon",[e._v("clear")])],1),e._v(" "),i("v-btn",{attrs:{flat:"",icon:"",color:"green"},on:{click:function(t){t.stopPropagation(),e.onSave()}}},[i("v-icon",[e._v("check")])],1)],1)],1)},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin],data:()=>({timePick:!1,showDialog:!1,dateFormatted:null,dateModel:null,timeModel:"00:00"}),watch:{modelProxy(e){e?([this.dateModel,this.timeModel]=e.split("T"),this.dateFormatted=this.formatDate(this.dateModel)+" "+this.formatTime(this.timeModel)):this.dateFormatted=null}},computed:{landscape(){return this.display.landscape&&this.$vuetify.breakpoint.mdAndUp||!1},locale(){if(this.config.locale)return this.config.locale;return(this.wrapper.options||{}).language||"en"},firstDayOfWeek(){if(this.config.firstDayOfWeek)return this.config.firstDayOfWeek;return(this.wrapper.options||{}).firstDayOfWeek||0},allowedDates(){const e={min:void 0,max:void 0};return this.config.minDateTime&&(e.min=this.config.minDateTime.split("T")[0]),this.config.maxDateTime&&(e.max=this.config.maxDateTime.split("T")[0]),e},allowedTimes(){const e={min:void 0,max:void 0};if(!this.dateModel)return e;const t=this.parseTime(this.timeModel);if(t.d=this.dateModel,this.config.minDateTime){const i=this.parseDateTime(this.config.minDateTime);t.d===i.d&&(e.min=i.t)}if(this.config.maxDateTime){const i=this.parseDateTime(this.config.maxDateTime);t.d===i.d&&(e.max=i.t)}return e}},mounted(){let e=this.modelProxy;e&&(e=new Date(e),isNaN(e.getTime())?this.$delete(this.model,this.name):([this.dateModel,e]=e.toISOString().split("T"),this.timeModel=e.split(":").slice(0,2).join(":"),this.updateValue(!1)))},methods:{onSave(){this.showDialog=!1,this.updateValue()},onCancel(){this.showDialog=!1,this.modelProxy&&([this.dateModel,this.timeModel]=this.modelProxy.split("T"))},handleClear(){this.timePick=!1,this.dateModel=null,this.timeModel="00:00",this.$delete(this.model,this.name)},parseDateTime(e){const t=(e=e.split("T"))[1]||"00:00";let i=this.parseTime(t);return i.t=t,i.d=e[0],i},parseTime:e=>(e=e.split(":"),e={h:Number(e[0]||0),m:Number(e[1]||0)}),updateValue(e=!0){null===this.dateModel&&(this.dateModel=(new Date).toISOString().split("T")[0]),this.$set(this.model,this.name,this.dateModel+"T"+this.timeModel),this.dateFormatted=this.formatDate(this.dateModel)+" "+this.formatTime(this.timeModel),e&&this.validate()},formatDate(e){return e?new Date(e).toLocaleDateString(this.locale):null},formatTime:e=>e?e.toString():"",showDate(){this.timePick=!1,this.showDialog=!0},showTime(){this.timePick=!0,this.showDialog=!0},onRouteLeave(e){return!this.showDialog||(this.onCancel(),!1)}}},void 0,!1);var ie=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="repeat.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-list",{attrs:{subheader:"",dense:""}},[i("v-subheader",[i("control-label",{attrs:{text:e.$intl.translate(e.display.title),"has-error":e.allErrors.length>0,required:e.config.required}}),e._v(" "),i("v-spacer"),e._v(" "),i("v-btn",{attrs:{disabled:!e.canAddItem,small:"",flat:"",ripple:""},on:{click:function(t){t.stopPropagation(),e.addItem()}}},[i("v-icon",[e._v("add")]),e._v("\n            "+e._s(e.$intl.translate(e.display.addButton||{key:"common.form.add",text:"Add"}))+"\n        ")],1)],1),e._v(" "),i("draggable",{attrs:{list:e.modelProxy,options:e.dragOptions}},[e._l(e.modelProxy,function(t,n){return i("v-list-tile",{key:e.$uniqueObjectId(t,n),on:{click:function(i){e.editItem(t)}}},[i("v-list-tile-avatar",{staticClass:"drag-handle"},[e.itemHasError(n)?i("v-icon",{attrs:{color:"red"}},[e._v("error")]):i("v-icon",[e._v("swap_vert")]),e._v("\n                "+e._s(n+1)+".\n            ")],1),e._v(" "),i("v-list-tile-content",[i("v-list-tile-title",[e._v(e._s(e.itemTitle(t)))])],1),e._v(" "),i("v-list-tile-action",[i("v-btn",{attrs:{icon:"",ripple:""},on:{click:function(i){i.stopPropagation(),e.removeItem(t)}}},[i("v-icon",{attrs:{color:"red"}},[e._v("delete")])],1)],1)],1)}),e._v(" "),i("v-list-tile",{directives:[{name:"show",rawName:"v-show",value:!e.modelProxy||0===e.modelProxy.length,expression:"!modelProxy || modelProxy.length === 0"}],staticClass:"sortable-empty-list-item"},[i("v-list-tile-content",[e._v("\n                "+e._s(e.$intl.translate(e.display.placeholder||{key:"common.form.empty_list",text:"No items"}))+"\n            ")])],1)],2),e._v(" "),e.allErrors.length>0?[i("v-divider"),e._v(" "),i("list-error",{attrs:{error:e.allErrors[0]}})]:e._e()],2)},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin],components:{ControlLabel:S,ListError:T},data:()=>({dragOptions:{handle:".drag-handle"}}),computed:{canAddItem(){const e=this.config.maxItems;if(!e||e<0)return!0;const t=this.modelProxy;return!t||t.length<e},validations(){const e=this.modelProxy;if(!e||0===e.length)return null;const t={},i=e.length,n=this.wrapper.parser,r=this.items;for(let e=0;e<i;e++)t[e]={},n.parseControlList(r,t[e]);return t}},methods:{itemTitle(e){let t=this.display.itemTitle;return"function"==typeof t&&(t=t(e)),t?("object"!=typeof t&&(t={key:null,text:t}),this.$intl.translate(t,e)):null},itemHasError(e,t=!1){const i=this.validatorProxy;return!(!i||!i[e])&&(!(!t&&!i[e].$dirty)&&i[e].$invalid)},addItem(){this.wrapper.pushUnparsedForm({title:this.display.addTitle||{key:"common.form.addItemTitle",text:"Create new item"},button:this.display.addSubmitButtom||{key:"common.form.addSubmitButton",text:"Add"},model:{},items:this.items,actions:{submit:(e,t)=>(Array.isArray(this.modelProxy)||this.$set(this.model,this.name,[]),this.modelProxy.push(t),this.validate(),!0)}})},removeItem(e){let t=this.modelProxy.indexOf(e);t>=0&&(this.modelProxy.splice(t,1),this.validate())},editItem(e){let t=this.modelProxy.indexOf(e);this.wrapper.pushUnparsedForm({title:this.display.editTitle||{key:"common.form.editItemTitle",text:"Edit item"},button:this.display.editSubmitButtom||{key:"common.form.editSubmitButton",text:"Save changes"},model:this.$clone(e),items:this.items,actions:{submit:(e,i)=>(this.$set(this.modelProxy,t,i),this.validate(),!0)}})}}},void 0,!1);var ne=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="repeat-variants.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-list",{attrs:{subheader:"",dense:""}},[i("v-subheader",[i("control-label",{attrs:{text:e.$intl.translate(e.display.title),"has-error":e.allErrors.length>0,required:e.config.required}}),e._v(" "),i("v-spacer"),e._v(" "),i("v-menu",{attrs:{"offset-y":"",disabled:!e.canAddItem,"max-height":"426"}},[i("v-btn",{attrs:{slot:"activator",disabled:!e.canAddItem,small:"",flat:"",ripple:""},slot:"activator"},[i("v-icon",[e._v("add")]),e._v("\n                "+e._s(e.$intl.translate(e.display.addButton||{key:"common.form.add",text:"Add"}))+"\n            ")],1),e._v(" "),i("v-list",e._l(e.items,function(t){return i("v-list-tile",{key:t.name,on:{click:function(i){e.addItem(t)}}},[i("v-list-tile-title",[e._v(e._s(e.$intl.translate(e.variantTitle(t))))])],1)}))],1)],1),e._v(" "),i("draggable",{attrs:{list:e.modelProxy,options:e.dragOptions}},[e._l(e.modelProxy,function(t,n){return i("v-list-tile",{key:e.$uniqueObjectId(t,n),on:{click:function(i){e.editItem(t)}}},[i("v-list-tile-avatar",{staticClass:"drag-handle"},[e.itemHasError(n)?i("v-icon",{attrs:{color:"red"}},[e._v("error")]):i("v-icon",[e._v("swap_vert")]),e._v("\n                "+e._s(n+1)+".\n            ")],1),e._v(" "),i("v-list-tile-content",[i("v-list-tile-title",[e._v(e._s(e.itemTitle(t)))]),e._v(" "),i("v-list-tile-sub-title",[e._v(e._s(e.$intl.translate(e.variantTitle(e.getVariantByName(t[e.config.variantField]))))+"\n                ")])],1),e._v(" "),i("v-list-tile-action",[i("v-btn",{attrs:{icon:"",ripple:""},on:{click:function(i){i.stopPropagation(),e.removeItem(t)}}},[i("v-icon",{attrs:{color:"red"}},[e._v("delete")])],1)],1)],1)}),e._v(" "),i("v-list-tile",{directives:[{name:"show",rawName:"v-show",value:0===e.modelProxy.length,expression:"modelProxy.length === 0"}],staticClass:"sortable-empty-list-item"},[i("v-list-tile-content",[e._v("\n                "+e._s(e.$intl.translate(e.display.placeholder||{key:"common.form.empty_list",text:"No items"}))+"\n            ")])],1)],2),e._v(" "),e.allErrors.length>0?[i("v-divider"),e._v(" "),i("list-error",{attrs:{error:e.allErrors[0]}})]:e._e()],2)},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin],components:{ControlLabel:S,ListError:T},data:()=>({dragOptions:{handle:".drag-handle"}}),computed:{variantValidations(){const e=this.modelProxy;if(!Array.isArray(e)||0===e.length)return null;const t={},i=this.config.variantField,n=this.wrapper.parser;return e.map((e,r)=>{t[r]={},n.parseControlList(this.getVariantByName(e[i]).items,t[r])}),t},canAddItem(){const e=this.config.maxItems;if(!e||e<0)return!0;const t=this.modelProxy;return!t||t.length<e}},methods:{variantTitle:e=>e.display&&e.display.title?e.display.title:e.title,itemTitle(e){let t=this.getVariantByName(e[this.config.variantField]).itemTitle||this.display.itemTitle;return"function"==typeof t&&(t=t(e)),t?("object"!=typeof t&&(t={key:null,text:t}),this.$intl.translate(t,e)):null},itemHasError(e,t=!1){const i=this.validatorProxy;return!(!i||!i[e]||!t&&!i[e].$dirty)&&i[e].$invalid},getVariantByName(e){for(let t=0,i=this.items.length;t<i;t++)if(this.items[t].name===e)return this.items[t];return null},addItem(e){this.wrapper.pushUnparsedForm({title:this.display.addTitle||{key:"common.form.addItemTitle",text:"Create new item"},button:this.display.addSubmitButtom||{key:"common.form.addSubmitButton",text:"Add"},model:{[this.config.variantField]:e.name},items:e.items,actions:{submit:(e,t)=>(this.modelProxy.push(t),this.validate(),!0)}})},removeItem(e){let t=this.modelProxy.indexOf(e);t>=0&&(this.modelProxy.splice(t,1),this.validate())},editItem(e){let t=this.modelProxy.indexOf(e);const i=this.getVariantByName(e[this.config.variantField]);this.wrapper.pushUnparsedForm({title:this.display.editTitle||{key:"common.form.editItemTitle",text:"Edit item"},button:this.display.editSubmitButtom||{key:"common.form.editSubmitButton",text:"Save changes"},model:this.$clone(e),items:i.items,actions:{submit:(e,i)=>(this.$set(this.modelProxy,t,i),this.validate(),!0)}})}}},void 0,!1);var re=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="group-repeat.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[Boolean(e.translatedTitle)?i("v-subheader",[i("control-label",{attrs:{text:e.$intl.translate(e.display.title),"has-error":e.allErrors.length>0,required:e.config.required}})],1):e._e(),e._v(" "),e._l(e.config.regions,function(t){return i("v-list",{key:t.name,attrs:{subheader:"",dense:""}},[i("v-subheader",[i("control-label",{attrs:{text:e.$intl.translate(t.title),"has-error":e.hasErrors(t.name),required:t.config.required}}),e._v(" "),i("v-spacer"),e._v(" "),i("v-btn",{attrs:{disabled:!e.canAddItem(t),small:"",flat:"",ripple:""},on:{click:function(i){i.stopPropagation(),e.addItem(t)}}},[i("v-icon",[e._v("add")]),e._v("\n                "+e._s(e.$intl.translate(e.display.addButton||{key:"common.form.add",text:"Add"}))+"\n            ")],1)],1),e._v(" "),i("draggable",{staticStyle:{"min-height":"2px"},attrs:{list:e.modelProxy[t.name],options:e.dragOptions}},e._l(e.modelProxy[t.name],function(n,r){return i("v-list-tile",{key:e.$uniqueObjectId(n,r),staticClass:"drag-item",on:{click:function(i){e.editItem(t,n)}}},[i("v-list-tile-avatar",{staticClass:"drag-handle"},[e.itemHasError(t,r)?i("v-icon",{attrs:{color:"red"}},[e._v("error")]):i("v-icon",[e._v("swap_vert")]),e._v("\n                    "+e._s(r+1)+".\n                ")],1),e._v(" "),i("v-list-tile-content",[i("v-list-tile-title",[e._v(e._s(e.itemTitle(n)))])],1),e._v(" "),i("v-list-tile-action",[i("v-btn",{attrs:{icon:"",ripple:""},on:{click:function(i){i.stopPropagation(),e.removeItem(t,n)}}},[i("v-icon",{attrs:{color:"red"}},[e._v("delete")])],1)],1)],1)})),e._v(" "),i("v-list-tile",{directives:[{name:"show",rawName:"v-show",value:0===e.modelProxy[t.name].length,expression:"modelProxy[region.name].length === 0"}],staticClass:"sortable-empty-list-item"},[i("v-list-tile-content",[e._v("\n                "+e._s(e.$intl.translate(e.display.placeholder||{key:"common.form.empty_list",text:"No items"}))+"\n            ")])],1),e._v(" "),e.hasErrors(t.name)?[i("v-divider"),e._v(" "),i("list-error",{attrs:{error:e.getAllErrors(t.name)[0]}})]:e._e()],2)})],2)},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin],components:{ControlLabel:S,ListError:T},data(){return{dragOptions:{draggable:".drag-item",filter:".drag-ignore",handle:".drag-handle",group:"region-"+this.$uniqueObjectId(this)}}},computed:{validations(){const e=this.modelProxy;if(!e||0===e.length)return null;const t={},i=(this.config.variantField,this.items),n=this.wrapper.parser;return this.config.regions.map(r=>{t[r.name]=r.validation?n.validator.getMultiple(r.validation):{},Array.isArray(e[r.name])&&e[r.name].map((e,a)=>{t[r.name][a]={},n.parseControlList(i,t[r.name][a])})}),t},translatedTitle(){return this.display.title&&this.$intl.translate(this.display.title)||null}},methods:{itemTitle(e){let t=this.display.itemTitle;return"function"==typeof t&&(t=t(e)),t?("object"!=typeof t&&(t={key:null,text:t}),this.$intl.translate(t,e)):null},itemHasError(e,t,i=!1){const n=this.validatorProxy;return!(!n||!n[e.name])&&(!(!n[e.name].$invalid||!n[e.name][t])&&(!(!i&&!n[e.name][t].$dirty)&&n[e.name][t].$invalid))},canAddItem(e){const t=e.config.maxItems;if(!t||t<0)return!0;const i=this.modelProxy;return!i[e.name]||i[e.name].length<t},addItem(e){this.wrapper.pushUnparsedForm({title:this.display.addTitle||{key:"common.form.addItemTitle",text:"Create new item"},button:this.display.addSubmitButtom||{key:"common.form.addSubmitButton",text:"Add"},model:{},items:this.items,actions:{submit:(t,i)=>(this.modelProxy[e.name].push(i),this.validate(),!0)}})},removeItem(e,t){let i=this.modelProxy[e.name].indexOf(t);i>=0&&(this.modelProxy[e.name].splice(i,1),this.validate())},editItem(e,t){let i=this.modelProxy[e.name].indexOf(t);this.wrapper.pushUnparsedForm({title:this.display.editTitle||{key:"common.form.editItemTitle",text:"Edit item"},button:this.display.editSubmitButtom||{key:"common.form.editSubmitButton",text:"Save changes"},model:this.$clone(t),items:this.items,actions:{submit:(t,n)=>(this.$set(this.modelProxy[e.name],i,n),this.validate(),!0)}})}},created(){this.config.regions.map(e=>{this.modelProxy.hasOwnProperty(e.name)||this.$set(this.modelProxy,e.name,[])})},beforeDestroy(){this.config.regions.map(e=>{this.$delete(this.modelProxy,e.name)})}},void 0,!1);var ae=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="group-repeat-variants.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[Boolean(e.translatedTitle)?i("v-subheader",[i("control-label",{attrs:{text:e.translatedTitle,"has-error":e.allErrors.length>0,required:e.config.required}})],1):e._e(),e._v(" "),e._l(e.config.regions,function(t){return i("v-list",{key:t.name,attrs:{subheader:"",dense:""}},[i("v-subheader",[i("control-label",{attrs:{text:e.$intl.translate(t.title),"has-error":e.hasErrors(t.name),required:t.config.required}}),e._v(" "),i("v-spacer"),e._v(" "),i("v-menu",{attrs:{"offset-y":"",disabled:!e.canAddItem(t),"max-height":"426"}},[i("v-btn",{attrs:{slot:"activator",disabled:!e.canAddItem(t),small:"",flat:"",ripple:""},slot:"activator"},[i("v-icon",[e._v("add")]),e._v("\n                    "+e._s(e.$intl.translate(e.display.addButton||{key:"common.form.add",text:"Add"}))+"\n                ")],1),e._v(" "),i("v-list",e._l(e.items,function(n){return i("v-list-tile",{key:n.name,on:{click:function(i){e.addItem(t,n)}}},[i("v-list-tile-title",[e._v(e._s(e.$intl.translate(e.variantTitle(n))))])],1)}))],1)],1),e._v(" "),i("draggable",{staticStyle:{"min-height":"2px"},attrs:{list:e.modelProxy[t.name],options:e.dragOptions}},e._l(e.modelProxy[t.name],function(n,r){return i("v-list-tile",{key:e.$uniqueObjectId(n,r),staticClass:"drag-item",on:{click:function(i){e.editItem(t,n)}}},[i("v-list-tile-avatar",{staticClass:"drag-handle"},[e.itemHasError(t,r)?i("v-icon",{attrs:{color:"red"}},[e._v("error")]):i("v-icon",[e._v("swap_vert")]),e._v("\n                    "+e._s(r+1)+".\n                ")],1),e._v(" "),i("v-list-tile-content",[i("v-list-tile-title",[e._v(e._s(e.itemTitle(n)))]),e._v(" "),i("v-list-tile-sub-title",[e._v("\n                        "+e._s(e.$intl.translate(e.variantTitle(e.getVariantByName(n[e.config.variantField]))))+"\n                    ")])],1),e._v(" "),i("v-list-tile-action",[i("v-btn",{attrs:{icon:"",ripple:""},on:{click:function(i){i.stopPropagation(),e.removeItem(t,n)}}},[i("v-icon",{attrs:{color:"red"}},[e._v("delete")])],1)],1)],1)})),e._v(" "),i("v-list-tile",{directives:[{name:"show",rawName:"v-show",value:0===e.modelProxy[t.name].length,expression:"modelProxy[region.name].length === 0"}],staticClass:"sortable-empty-list-item"},[i("v-list-tile-content",[e._v("\n                "+e._s(e.$intl.translate(e.display.placeholder||{key:"common.form.empty_list",text:"No items"}))+"\n            ")])],1),e._v(" "),e.hasErrors(t.name)?[i("v-divider"),e._v(" "),i("list-error",{attrs:{error:e.getAllErrors(t.name)[0]}})]:e._e()],2)})],2)},staticRenderFns:[]},0,{mixins:[t.JsonFormElementMixin],components:{ControlLabel:S,ListError:T},data(){return{dragOptions:{draggable:".drag-item",filter:".drag-ignore",handle:".drag-handle",group:"region-"+this.$uniqueObjectId(this)}}},computed:{regionVariantValidations(){const e=this.modelProxy;if(!e||0===e.length)return null;const t={},i=this.config.variantField,n=this.wrapper.parser;return this.config.regions.map(r=>{t[r.name]=r.validation?n.validator.getMultiple(r.validation):{},Array.isArray(e[r.name])&&e[r.name].map((e,a)=>{t[r.name][a]={},n.parseControlList(this.getVariantByName(e[i]).items,t[r.name][a])})}),t},translatedTitle(){return this.display.title&&this.$intl.translate(this.display.title)||null}},methods:{variantTitle:e=>e.display&&e.display.title?e.display.title:e.title,itemTitle(e){let t=this.getVariantByName(e[this.config.variantField]).itemTitle||this.display.itemTitle;return"function"==typeof t&&(t=t(e)),t?("object"!=typeof t&&(t={key:null,text:t}),this.$intl.translate(t,e)):null},canAddItem(e){const t=e.config.maxItems;if(!t||t<0)return!0;const i=this.modelProxy[e.name];return!i||i.length<t},itemHasError(e,t,i=!1){const n=this.validatorProxy;return!!(n&&n[e.name]&&n[e.name][t])&&(!(!i&&!n[e.name][t].$dirty)&&n[e.name][t].$invalid)},getVariantByName(e){for(let t=0,i=this.items.length;t<i;t++)if(this.items[t].name===e)return this.items[t];return null},addItem(e,t){this.wrapper.pushUnparsedForm({title:this.display.addTitle||{key:"common.form.addItemTitle",text:"Create new item"},button:this.display.addSubmitButtom||{key:"common.form.addSubmitButton",text:"Add"},model:{[this.config.variantField]:t.name},items:t.items,actions:{submit:(t,i)=>(this.modelProxy[e.name].push(i),this.validate(),!0)}})},removeItem(e,t){let i=this.modelProxy[e.name].indexOf(t);i>=0&&(this.modelProxy[e.name].splice(i,1),this.validate())},editItem(e,t){let i=this.modelProxy[e.name].indexOf(t);const n=this.getVariantByName(t[this.config.variantField]);this.wrapper.pushUnparsedForm({title:this.display.editTitle||{key:"common.form.editItemTitle",text:"Edit item"},button:this.display.editSubmitButtom||{key:"common.form.editSubmitButton",text:"Save changes"},model:this.$clone(t),items:n.items,actions:{submit:(t,n)=>(this.$set(this.modelProxy[e.name],i,n),this.validate(),!0)}})}},created(){this.config.regions.map(e=>{this.modelProxy.hasOwnProperty(e.name)||this.$set(this.modelProxy,e.name,[])})},beforeDestroy(){this.config.regions.map(e=>{this.$delete(this.modelProxy,e.name)})}},void 0,!1);var oe=function(e,t,i,n,r,a,o,s){const l=("function"==typeof i?i.options:i)||{};return l.__file="variant.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-select",{attrs:{"error-messages":e.getAllErrors(e.variantProp),label:e.$intl.translate(e.display.title),hint:e.$intl.translate(e.display.hint),placeholder:e.$intl.translate(e.display.placeholder),"prepend-icon":e.$controlIcon(e.display.prependIcon),"append-icon":e.$controlIcon(e.display.appendIcon),required:e.config.required,clearable:"",box:"box"===e.display.appearance,solo:"solo"===e.display.appearance,"solo-inverted":"solo-inverted"===e.display.appearance,outline:"outline"===e.display.appearance,flat:!!e.display.flat,items:e.selectItems,"item-text":"title","item-value":"name","item-avatar":"icon",loading:e.loading,disabled:e.loading},model:{value:e.modelProxy[e.variantProp],callback:function(t){e.$set(e.modelProxy,e.variantProp,t)},expression:"modelProxy[variantProp]"}}),e._v(" "),null!==e.currentItems?i("json-form-group",{ref:"formGroup",attrs:{model:e.modelProxy,validator:e.validatorProxy,items:e.currentItems,wrapper:e.wrapper,path:e.path,"parent-validations-container":e.parentValidationsContainer,"validations-container":e.validationsContainer}}):e._e()],1)},staticRenderFns:[]},0,{components:{JsonFormGroup:t.JsonFormGroup},mixins:[t.JsonFormElementMixin],watch:{currentVariant(e){const t=this.validatorProxy;t&&t[this.variantProp]&&t[this.variantProp].$touch(),this.buildItems(e)}},data(){return{loading:!1,selectItems:this.items,currentItems:null,currentValidations:{}}},created(){const e=()=>{const e=this.modelProxy;e&&null!=e[this.variantProp]&&this.buildItems(e[this.variantProp])};"function"==typeof this.config.variantLoader?(this.loading=!0,this.config.variantLoader(this).then(t=>{this.selectItems=t||[],e(),this.loading=!1})):e()},computed:{currentVariantValidations(){return this.currentValidations},allErrors(){return this.getAllErrors(this.variantProp)},currentVariant(){return this.modelProxy[this.variantProp]||null},variantProp(){return this.config.variantField||"variant_name"}},methods:{getVariantByName(e){return null===e?null:this.selectItems.find(t=>t.name===e)},clearObject(e){for(let t in e)e.hasOwnProperty(t)&&this.$delete(e,t);return e},buildItems(e){if(null===e)return this.currentItems=null,void this.clearObject(this.currentValidations);const t=this.getVariantByName(e);this.currentValidations=this.clearObject(this.currentValidations);const i={};this.currentItems=this.wrapper.parser.parseControlList(t.items,i);for(let e in i)i.hasOwnProperty(e)&&this.$set(this.currentValidations,e,i[e])},onRouteLeave(e){return null===this.currentItems||e(this.$refs.formGroup)}},beforeDestroy(){this.$delete(this.modelProxy,this.variantProp),this.currentItems=null,this.clearObject(this.currentValidations)}},void 0,!1),se={text:new t.StringControlParser(g),textarea:new t.StringControlParser(_),tel:new t.ExtendedStringControlParser(b,{tel:!0}),email:new t.ExtendedStringControlParser(x,{email:!0}),password:new t.StringControlParser(P),number:new t.NumberControlParser($),url:new t.ExtendedStringControlParser(w,{url:!0}),ipv4:new t.ExtendedStringControlParser(g,{ipv4:!0}),ipv6:new t.ExtendedStringControlParser(g,{ipv6:!0}),color:new t.ExtendedStringControlParser(F,{color:!0}),hidden:new i(C),uuid:new t.StringControlParser(k),checkbox:new t.BooleanControlParser(R),"checkbox-multi":new y(B),switch:new t.BooleanControlParser(j),radio:new t.SelectionControlParser(L),select:new a(J),"select-group":new a(J,!0),combobox:new c(N),chips:new p(N),display:new o(J),slider:new t.NumberControlParser(E),icon:new l(I),description:new s(G),col:new t.ObjectControlParser(H),row:new t.ObjectControlParser(W),group:new t.ObjectControlParser(z),"switch-group":new n(Z),"async-group":new t.AsyncObjectControlParser(Q),tabs:new r(K),component:new d(X),date:new t.DateControlParser(Y),time:new t.TimeControlParser(ee),"date-time":new t.DateTimeControlParser(te),repeat:new m(ie),"repeat-variants":new u(ne),"group-repeat":new v(re),"group-repeat-variants":new h(ae),variant:new f(oe)},le={};e.install=function(e){e.use(t.JsonForm);for(const e in se)se.hasOwnProperty(e)&&t.JsonForm.addControl(e,se[e]);for(const e in le)le.hasOwnProperty(e)&&t.JsonForm.validator.add(le[e]);e.prototype.$controlIcon=function(e){if("string"==typeof e)return-1===e.indexOf(":")?e:(e=e.split(":"))[0]+" fa-"+e[1]}},e.TextControl=g,e.TextareaControl=_,e.EmailControl=x,e.TelControl=b,e.NumberControl=$,e.PasswordControl=P,e.UrlControl=w,e.ColorControl=F,e.IconControl=I,e.HiddenControl=C,e.UUIDControl=k,e.SliderControl=E,e.CheckboxControl=R,e.CheckboxMultiControl=B,e.SwitchControl=j,e.RadioControl=L,e.SelectControl=J,e.ComboboxControl=N,e.DescriptionControl=G,e.ColControl=H,e.RowControl=W,e.GroupControl=z,e.SwitchGroupControl=Z,e.TabsControl=K,e.AsyncGroupControl=Q,e.ComponentControl=X,e.DateControl=Y,e.TimeControl=ee,e.DateTimeControl=te,e.RepeatControl=ie,e.RepeatVariantsControl=ne,e.GroupRepeatControl=re,e.GroupRepeatVariantsControl=ae,e.VariantControl=oe,e.HiddenParser=i,e.SwitchGroupParser=n,e.TabsParser=r,e.SelectParser=a,e.DisplayParser=o,e.DescriptionParser=s,e.IconParser=l,e.ComponentParser=d,e.ComboboxParser=c,e.ChipsParser=p,e.RepeatParser=m,e.RepeatVariantsParser=u,e.GroupRepeatParser=v,e.GroupRepeatVariantsParser=h,e.VariantParser=f,e.CheckboxMultiParser=y,e.ControlLabel=S,e.ControlIcon=V,e.BlockError=D,e.ListError=T,e.BlockForm=M,e.DialogForms=q,e.StepperForm=A,Object.defineProperty(e,"__esModule",{value:!0})});
